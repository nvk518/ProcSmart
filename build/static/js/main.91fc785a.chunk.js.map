{"version":3,"sources":["Record.module.css","firebase.js","components/record.js","components/home.js","components/create.js","App.js","index.js","Home.module.css","Create.module.css"],"names":["module","exports","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","cocoSsd","require","Record","detectFromVideoFrame","model","video","detect","then","predictions","showDetections","requestAnimationFrame","error","console","log","catch","ctx","canvasRef","current","getContext","clearRect","canvas","width","height","font","textBaseline","containsDevice","containsBottle","containsBook","containsRemote","containsLaptop","containsKeyboard","containsPerson","forEach","prediction","state","recording","class","bottle","book","remote","laptop","keyboard","person","phone","x","bbox","y","strokeStyle","lineWidth","strokeRect","fillStyle","textWidth","measureText","textHeight","parseInt","fillRect","fillText","score","toFixed","bookCount","bookDetected","bottleCount","bottleDetected","keyboardCount","keyboardDetected","laptopCount","laptopDetected","remoteCount","remoteDetected","personCount","noPerson","phoneCount","phoneDetected","setState","componentDidMount","_this","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","webcamPromise","audio","stream","chunks","recorder","MediaRecorder","type","addEventListener","event","data","size","push","Blob","renderRecording","listRef","recordRef","removeAttribute","start","innerText","stop","createJSON","window","videoRef","srcObject","Promise","resolve","onloadedmetadata","loadlModelPromise","load","all","values","loadingMsg","selection","studentName","name","course","term","year","sessionID","j","document","createElement","id","download","Date","now","href","URL","createObjectURL","JSON","stringify","click","blob","list","blobUrl","getFullYear","getMonth","toString","padStart","getDay","getHours","getMinutes","getSeconds","handleOnSubmit","e","preventDefault","collection","where","idRef","value","limit","get","querySnapshot","doc","nameRef","recordButton","formHidden","createRef","styles","position","userCode","bind","className","left","this","hidden","noValidate","autoComplete","onSubmit","TextField","required","inputRef","label","defaultValue","InputProps","startAdornment","InputAdornment","Button","variant","color","right","style","autoPlay","muted","ref","disabled","Component","Home","props","body","button1","button2","sha1","Create","createSession","hash","classRef","hashPass","nr","cr","password","set","nameE","classE","termE","yearE","nameError","classError","termError","yearError","handleChange","target","checked","handleTermChange","handleYearChange","generateRef","form","FormControl","InputLabel","shrink","Select","labelId","onChange","combo","MenuItem","component","FormLabel","FormGroup","FormControlLabel","control","Checkbox","App","BottomNavigation","showLabels","root","BottomNavigationAction","icon","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.91fc785a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"left\":\"Record_left__1ZiRp\",\"right\":\"Record_right__K_lK5\"};","import firebase from \"firebase\";\n\nconst firebaseApp = firebase.initializeApp({\n  // copy and paste your firebase credential here\n\n  apiKey: \"AIzaSyDJQQacGtRfPTtiTrP36OSbU2oNWEe13zA\",\n  authDomain: \"procsmart-2d2a8.firebaseapp.com\",\n  databaseURL: \"https://procsmart-2d2a8.firebaseio.com\",\n  projectId: \"procsmart-2d2a8\",\n  storageBucket: \"procsmart-2d2a8.appspot.com\",\n  messagingSenderId: \"449774486205\",\n  appId: \"1:449774486205:web:efc57de71384bd2b5aedd4\",\n  measurementId: \"G-1YYE34YL6G\",\n});\n\nconst db = firebaseApp.firestore();\n\nexport { db };\n","import React, { Component, createRef } from \"react\";\nimport { db } from \"../firebase\";\nimport { firestore } from \"firebase\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport ComputerIcon from \"@material-ui/icons/Computer\";\n\nimport styles from \"../Record.module.css\";\nconst cocoSsd = require(\"@tensorflow-models/coco-ssd\");\n\nclass Record extends Component {\n  constructor() {\n    super();\n\n    this.videoRef = createRef();\n    this.canvasRef = createRef();\n    this.recordRef = createRef();\n    this.listRef = createRef();\n    this.nameRef = createRef();\n    this.idRef = createRef();\n    // we are gonna use inline style\n    this.styles = {\n      position: \"fixed\",\n      //   top: 150,\n      //   left: 150,\n    };\n\n    this.state = {\n      userCode: \"\",\n      recording: false,\n      book: false,\n      bottle: false,\n      keyboard: false,\n      laptop: false,\n      remote: false,\n      person: false,\n      phone: false,\n      bookDetected: 0,\n      bottleDetected: 0,\n      keyboardDetected: 0,\n      laptopDetected: 0,\n      remoteDetected: 0,\n      noPerson: 0,\n      phoneDetected: 0,\n      loadingMsg: \"Model is loading, please wait.\",\n      recordButton: true,\n      sessionID: \"\",\n      name: \"\",\n      formHidden: false,\n    };\n\n    this.detectFromVideoFrame = this.detectFromVideoFrame.bind(this);\n    this.showDetections = this.showDetections.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.renderRecording = this.renderRecording.bind(this);\n    this.handleOnSubmit = this.handleOnSubmit.bind(this);\n  }\n\n  detectFromVideoFrame = (model, video) => {\n    model\n      .detect(video)\n      .then(\n        (predictions) => {\n          this.showDetections(predictions);\n          requestAnimationFrame(() => {\n            this.detectFromVideoFrame(model, video);\n          });\n        },\n        (error) => {\n          console.log(\"Couldn't start the webcam\");\n          console.error(error);\n        }\n      )\n      .catch((error) => \"\");\n  };\n\n  showDetections = (predictions) => {\n    const ctx = this.canvasRef.current.getContext(\"2d\");\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    const font = \"24px helvetica\";\n    ctx.font = font;\n    ctx.textBaseline = \"top\";\n    var containsPerson,\n      containsDevice,\n      containsBottle,\n      containsBook,\n      containsRemote,\n      containsLaptop,\n      containsKeyboard,\n      containsPerson = false;\n    predictions.forEach((prediction) => {\n      if (this.state.recording) {\n        switch (prediction.class) {\n          case \"bottle\":\n            containsBottle = this.state.bottle ? true : false;\n            break;\n          case \"book\":\n            containsBook = this.state.book ? true : false;\n            break;\n          case \"remote\":\n            containsRemote = this.state.remote ? true : false;\n            break;\n          case \"laptop\":\n            containsLaptop = this.state.laptop ? true : false;\n            break;\n          case \"keyboard\":\n            containsKeyboard = this.state.keyboard ? true : false;\n            break;\n          case \"person\":\n            containsPerson = this.state.person ? true : false;\n            break;\n          case \"cell phone\":\n            containsDevice = this.state.phone ? true : false;\n            break;\n          // default:\n          //   console.log(prediction.class);\n        }\n      }\n      const x = prediction.bbox[0];\n      const y = prediction.bbox[1];\n      const width = prediction.bbox[2];\n      const height = prediction.bbox[3];\n      // Draw the bounding box.\n      ctx.strokeStyle = \"#2fff00\";\n      ctx.lineWidth = 1;\n      ctx.strokeRect(x, y, width, height);\n      // Draw the label background.\n      ctx.fillStyle = \"#2fff00\";\n      const textWidth = ctx.measureText(prediction.class).width;\n      const textHeight = parseInt(font, 10);\n      // draw top left rectangle\n      ctx.fillRect(x, y, textWidth + 10, textHeight + 10);\n      // draw bottom left rectangle\n      ctx.fillRect(x, y + height - textHeight, textWidth + 15, textHeight + 10);\n\n      // Draw the text last to ensure it's on top.\n      ctx.fillStyle = \"#000000\";\n      ctx.fillText(prediction.class, x, y);\n      ctx.fillText(prediction.score.toFixed(2), x, y + height - textHeight);\n    });\n    if (this.state.recording) {\n      var bookCount = containsBook\n        ? this.state.bookDetected + 1\n        : this.state.bookDetected;\n      var bottleCount = containsBottle\n        ? this.state.bottleDetected + 1\n        : this.state.bottleDetected;\n      var keyboardCount = containsKeyboard\n        ? this.state.keyboardDetected + 1\n        : this.state.keyboardDetected;\n      var laptopCount = containsLaptop\n        ? this.state.laptopDetected + 1\n        : this.state.laptopDetected;\n      var remoteCount = containsRemote\n        ? this.state.remoteDetected + 1\n        : this.state.remoteDetected;\n      var personCount = !containsPerson\n        ? this.state.noPerson + 1\n        : this.state.noPerson;\n      var phoneCount = containsDevice\n        ? this.state.phoneDetected + 1\n        : this.state.phoneDetected;\n      this.setState({\n        bookDetected: bookCount,\n        bottleDetected: bottleCount,\n        keyboardDetected: keyboardCount,\n        laptopDetected: laptopCount,\n        remoteDetected: remoteCount,\n        noPerson: personCount,\n        phoneDetected: phoneCount,\n      });\n    }\n  };\n\n  componentDidMount = () => {\n    const _this = this;\n    if (\n      navigator.mediaDevices.getUserMedia ||\n      navigator.mediaDevices.webkitGetUserMedia\n    ) {\n      // define a Promise that'll be used to load the webcam and read its frames\n      const webcamPromise = navigator.mediaDevices\n        .getUserMedia({\n          video: true,\n          audio: false,\n        })\n        .then(\n          (stream) => {\n            // pass the current frame to the window.stream\n\n            const mimeType = \"audio/webm\";\n            let chunks = [];\n            const recorder = new MediaRecorder(stream, { type: mimeType });\n            recorder.addEventListener(\"dataavailable\", (event) => {\n              if (typeof event.data === \"undefined\") return;\n              if (event.data.size === 0) return;\n              chunks.push(event.data);\n            });\n            recorder.addEventListener(\"stop\", () => {\n              const recording = new Blob(chunks, {\n                type: mimeType,\n              });\n              _this.renderRecording(recording, _this.listRef.current);\n              chunks = [];\n            });\n            _this.recordRef.current.removeAttribute(\"hidden\");\n            _this.recordRef.current.addEventListener(\"click\", () => {\n              if (recorder.state === \"inactive\") {\n                recorder.start();\n                _this.setState({ recording: true });\n                _this.recordRef.current.innerText = \"Stop\";\n              } else {\n                recorder.stop();\n                _this.createJSON();\n                _this.setState({\n                  recording: false,\n                  bookDetected: 0,\n                  bottleDetected: 0,\n                  keyboardDetected: 0,\n                  laptopDetected: 0,\n                  remoteDetected: 0,\n                  noPerson: 0,\n                  phoneDetected: 0,\n                });\n                _this.recordRef.current.innerText = \"Record\";\n              }\n            });\n\n            window.stream = stream;\n            // pass the stream to the videoRef\n            _this.videoRef.current.srcObject = stream;\n\n            return new Promise((resolve) => {\n              _this.videoRef.current.onloadedmetadata = () => {\n                resolve();\n              };\n            });\n          },\n          (error) => {\n            console.log(\"Couldn't start the webcam\");\n            console.error(error);\n          }\n        );\n\n      // define a Promise that'll be used to load the model\n      const loadlModelPromise = cocoSsd.load();\n\n      // resolve all the Promises\n      Promise.all([loadlModelPromise, webcamPromise])\n        .then((values) => {\n          this.setState({\n            loadingMsg: \"Model loaded.\",\n          });\n          this.detectFromVideoFrame(values[0], this.videoRef.current);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    }\n  };\n\n  // let j = document.createElement(\"a\");\n  // j.id = \"download\";\n  // j.download = \"webcam\" + Date.now() + \".mp4\";\n  // j.href = blobUrl;\n  // j.click();\n\n  createJSON = () => {\n    var selection = {\n      studentName: this.state.name,\n      class:\n        this.state.course + \" - \" + this.state.term + \" \" + this.state.year,\n      sessionID: this.state.sessionID,\n      noPerson: this.state.person ? this.state.noPerson / 12 : \"N/A\",\n      phoneDetected: this.state.phone ? this.state.phoneDetected / 12 : \"N/A\",\n      bookDetected: this.state.book ? this.state.bookDetected / 12 : \"N/A\",\n      bottleDetected: this.state.bottle\n        ? this.state.bottleDetected / 12\n        : \"N/A\",\n      laptopDetected: this.state.laptop\n        ? this.state.laptopDetected / 12\n        : \"N/A\",\n      remoteDetected: this.state.remote\n        ? this.state.remoteDetected / 12\n        : \"N/A\",\n      keyboardDetected: this.state.keyboard\n        ? this.state.keyboardDetected / 12\n        : \"N/A\",\n    };\n    let j = document.createElement(\"a\");\n    j.id = \"download\";\n    j.download = \"stack_\" + Date.now() + \".json\";\n    j.href = URL.createObjectURL(\n      new Blob([JSON.stringify(selection, null, 2)])\n    );\n    j.click();\n  };\n\n  renderRecording = (blob, list) => {\n    const blobUrl = URL.createObjectURL(blob);\n    // const li = document.createElement(\"li\");\n    // const audio = document.createElement(\"audio\");\n    // const anchor = document.createElement(\"a\");\n    // anchor.setAttribute(\"href\", blobUrl);\n    const now = new Date();\n    // anchor.setAttribute(\n    //   \"download\",\n    //   `recording-${now.getFullYear()}-${(now.getMonth() + 1)\n    //     .toString()\n    //     .padStart(2, \"0\")}-${now\n    //     .getDay()\n    //     .toString()\n    //     .padStart(2, \"0\")}--${now\n    //     .getHours()\n    //     .toString()\n    //     .padStart(2, \"0\")}-${now\n    //     .getMinutes()\n    //     .toString()\n    //     .padStart(2, \"0\")}-${now.getSeconds().toString().padStart(2, \"0\")}.webm`\n    // );\n\n    let j = document.createElement(\"a\");\n    j.id = \"download\";\n    j.download = `recording_${now.getFullYear()}-${(now.getMonth() + 1)\n      .toString()\n      .padStart(2, \"0\")}-${now\n      .getDay()\n      .toString()\n      .padStart(2, \"0\")}--${now\n      .getHours()\n      .toString()\n      .padStart(2, \"0\")}-${now\n      .getMinutes()\n      .toString()\n      .padStart(2, \"0\")}-${now.getSeconds().toString().padStart(2, \"0\")}.webm`;\n    j.href = blobUrl;\n    j.click();\n  };\n\n  handleOnSubmit = (e) => {\n    e.preventDefault();\n    var _this = this;\n    var query = db\n      .collection(\"users\")\n      .where(\"sessionID\", \"==\", this.idRef.current.value)\n      .limit(1)\n      .get()\n      .then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          _this.setState({\n            name: _this.nameRef.current.value,\n            id: _this.idRef.current.value,\n            course: doc.data().course,\n            term: doc.data().term,\n            year: doc.data().year,\n            book: doc.data().book,\n            bottle: doc.data().book,\n            phone: doc.data().phone,\n            person: doc.data().person,\n            remote: doc.data().remote,\n            laptop: doc.data().laptop,\n            keyboard: doc.data().keyboard,\n            recordButton: false,\n            formHidden: true,\n          });\n          console.log(doc.id, \" => \", doc.data());\n        });\n      })\n      .catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className={styles.left}>\n          <h1>Record</h1>\n          <h4>{this.state.loadingMsg}</h4>\n          <h2>Name: {this.state.name}</h2>\n          <h2>Session ID: {this.state.id}</h2>\n          <h2>\n            Course: {this.state.course} {this.state.term} {this.state.year}\n          </h2>\n          <br />\n          <form\n            hidden={this.state.formHidden}\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={this.handleOnSubmit}\n          >\n            <div>\n              <TextField\n                required\n                inputRef={this.nameRef}\n                id=\"Name\"\n                label=\"Name\"\n                defaultValue=\"\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <AccountCircle />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </div>\n            <br />\n            <div>\n              <TextField\n                required\n                inputRef={this.idRef}\n                id=\"Session ID\"\n                label=\"Session ID\"\n                defaultValue=\"\"\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <ComputerIcon />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </div>\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n              Save\n            </Button>\n          </form>\n        </div>\n        <br />\n        <div className={styles.right}>\n          <video\n            style={this.styles}\n            autoPlay\n            muted\n            ref={this.videoRef}\n            width=\"720\"\n            height=\"600\"\n          />\n          <br />\n          <canvas\n            style={this.styles}\n            ref={this.canvasRef}\n            width=\"720\"\n            height=\"650\"\n          />\n          <br />\n          <Button\n            ref={this.recordRef}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={this.state.recordButton}\n          >\n            Record\n          </Button>\n          <ul ref={this.listRef} id=\"list\"></ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Record;\n","import React, { Component, createRef } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport styles from \"../Home.module.css\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (\n      <div className={styles.body}>\n        <h1>ProcSmart</h1>\n        <h3>\n          ProcSmart is an online proctoring service using Machine Learning\n          object classfication technology ideal for simulating and enforcing a\n          test taking environment.\n        </h3>\n        <h2>Features</h2>\n        <p>\n          - Record webcam video securely and reliably. Because ProcSmart is\n          completely client based, no recording data is stored on our servers.\n          Download the recording directly to your device.\n        </p>\n        <p>\n          - Machine Learning models accurately identify whether a person is\n          detected in the frame and if a phone is detected. After the user stops\n          the recording, the data and statistics are downloaded as an easily\n          readable JSON file.\n        </p>\n        <p>\n          - Add a class to obtain a unique Session ID and encryption password.\n          Students must add the Session ID to unlock recording. The encryption\n          password can decrypt the webcam and JSON files downloaded by students,\n          preventing the mishandling or tampering with the files.\n        </p>\n        <br />\n        <h2>Educators</h2>\n        <p>\n          1. Go to <a href=\"/create\">Create</a>\n          2. Enter class information and objects you want ProcSmart to detect\n          and flag.\n        </p>\n        <br />\n        <div className={styles.start}>\n          <h1>Get Started</h1>\n          <h2>I am a...</h2>\n          <Button\n            size=\"large\"\n            className={styles.button1}\n            variant=\"contained\"\n            color=\"primary\"\n            href=\"/record\"\n          >\n            Student\n          </Button>\n          <Button\n            size=\"large\"\n            className={styles.button2}\n            variant=\"contained\"\n            color=\"primary\"\n            href=\"/create\"\n          >\n            Educator\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component, createRef } from \"react\";\nimport { db, firestore } from \"../firebase\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\n\nimport styles from \"../Create.module.css\";\n\nvar sha1 = require(\"sha1\");\n\nclass Create extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      course: \"\",\n      sessionID: \"\",\n      term: \"\",\n      year: \"\",\n      password: \"\",\n      phone: false,\n      person: false,\n      book: false,\n      bottle: false,\n      laptop: false,\n      remote: false,\n      keyboard: false,\n      nameError: false,\n      classError: false,\n      termError: false,\n      yearError: false,\n    };\n\n    this.generateRef = createRef();\n    this.classRef = createRef();\n    this.nameRef = createRef();\n\n    this.handleOnSubmit = this.handleOnSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleYearChange = this.handleYearChange.bind(this);\n  }\n\n  createSession = () => {\n    const hash = sha1(\n      this.nameRef.current.value +\n        this.classRef.current.value +\n        this.state.term +\n        this.state.year\n    );\n    const hashPass = sha1(\n      this.nameRef.current.value +\n        this.classRef.current.value +\n        this.state.term +\n        this.state.year +\n        this.state.phone +\n        this.state.person +\n        this.state.book\n    );\n    var nr = this.nameRef.current.value;\n    var cr = this.classRef.current.value;\n    this.setState({\n      name: nr,\n      course: cr,\n      sessionID: hash,\n      password: hashPass,\n    });\n\n    db.collection(\"users\")\n      .doc(hash)\n      .set({\n        sessionID: hash,\n        name: this.nameRef.current.value,\n        course: this.classRef.current.value,\n        term: this.state.term,\n        year: this.state.year,\n        password: hashPass,\n        phone: this.state.phone,\n        person: this.state.person,\n        book: this.state.book,\n        bottle: this.state.bottle,\n        laptop: this.state.laptop,\n        remote: this.state.remote,\n        keyboard: this.state.keyboard,\n      })\n      .then(function () {\n        console.log(\"Document successfully written!\");\n      })\n      .catch(function (error) {\n        console.error(\"Error writing document: \", error);\n      });\n  };\n\n  handleOnSubmit = (e) => {\n    e.preventDefault();\n    var nameE = false;\n    var classE = false;\n    var termE = false;\n    var yearE = false;\n    if (this.nameRef.current.value === \"\") {\n      nameE = true;\n    } else if (this.classRef.current.value === \"\") {\n      classE = true;\n    } else if (this.state.term === \"\") {\n      termE = true;\n    } else if (this.state.year === \"\") {\n      yearE = true;\n    }\n    this.setState({\n      nameError: nameE,\n      classError: classE,\n      termError: termE,\n      yearError: yearE,\n    });\n    if (!nameE && !classE && !termE && !yearE) {\n      this.createSession();\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.checked,\n    });\n  };\n\n  handleTermChange = (e) => {\n    this.setState({\n      term: e.target.value,\n    });\n  };\n\n  handleYearChange = (e) => {\n    this.setState({\n      year: e.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div className={styles.form}>\n        <h1>Create class profile</h1>\n        <form noValidate autoComplete=\"off\" onSubmit={this.handleOnSubmit}>\n          <div>\n            <TextField\n              required\n              inputRef={this.nameRef}\n              id=\"standard-required\"\n              label=\"Name\"\n              defaultValue=\"\"\n              error={this.state.nameError}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <AccountCircle />\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </div>\n          <br />\n          <div>\n            <TextField\n              required\n              inputRef={this.classRef}\n              id=\"standard-required\"\n              label=\"Class\"\n              defaultValue=\"\"\n              error={this.state.classError}\n            />\n          </div>\n          <br />\n          <FormControl>\n            <InputLabel shrink id=\"demo-simple-select-placeholder-label-label\">\n              Term\n            </InputLabel>{\" \"}\n            <Select\n              labelId=\"demo-simple-select-label\"\n              id=\"demo-simple-select\"\n              value={this.state.term}\n              onChange={this.handleTermChange}\n              className={styles.combo}\n              error={this.state.termError}\n            >\n              <MenuItem value={\"Fall\"}>Fall</MenuItem>\n              <MenuItem value={\"Winter\"}>Winter</MenuItem>\n              <MenuItem value={\"Spring\"}>Spring</MenuItem>\n              <MenuItem value={\"Summer\"}>Summer</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl>\n            <InputLabel shrink id=\"demo-simple-select-placeholder-label-label\">\n              Year\n            </InputLabel>{\" \"}\n            <Select\n              labelId=\"demo-simple-select-label\"\n              id=\"demo-simple-select\"\n              value={this.state.year}\n              onChange={this.handleYearChange}\n              className={styles.combo}\n              error={this.state.yearError}\n            >\n              <MenuItem value={\"2020\"}>2020</MenuItem>\n              <MenuItem value={\"2021\"}>2021</MenuItem>\n              <MenuItem value={\"2022\"}>2022</MenuItem>\n              <MenuItem value={\"2023\"}>2023</MenuItem>\n              <MenuItem value={\"2024\"}>2024</MenuItem>\n              <MenuItem value={\"2025\"}>2025</MenuItem>\n              <MenuItem value={\"2026\"}>2026</MenuItem>\n              <MenuItem value={\"2027\"}>2027</MenuItem>\n              <MenuItem value={\"2028\"}>2028</MenuItem>\n              <MenuItem value={\"2029\"}>2029</MenuItem>\n              <MenuItem value={\"2030\"}>2030</MenuItem>\n              <MenuItem value={\"2031\"}>2031</MenuItem>\n              <MenuItem value={\"2032\"}>2032</MenuItem>\n              <MenuItem value={\"2033\"}>2033</MenuItem>\n              <MenuItem value={\"2034\"}>2034</MenuItem>\n              <MenuItem value={\"2035\"}>2035</MenuItem>\n            </Select>\n          </FormControl>\n          <br />\n          <br />\n          <FormControl component=\"fieldset\">\n            <FormLabel component=\"legend\">Choose Objects Classified</FormLabel>\n            <FormGroup>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={this.state.phone}\n                    onChange={this.handleChange}\n                    name=\"phone\"\n                  />\n                }\n                label=\"phone\"\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={this.state.person}\n                    onChange={this.handleChange}\n                    name=\"person\"\n                  />\n                }\n                label=\"person\"\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={this.state.book}\n                    onChange={this.handleChange}\n                    name=\"book\"\n                  />\n                }\n                label=\"book\"\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={this.state.laptop}\n                    onChange={this.handleChange}\n                    name=\"laptop\"\n                  />\n                }\n                label=\"laptop\"\n              />\n            </FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.bottle}\n                  onChange={this.handleChange}\n                  name=\"bottle\"\n                />\n              }\n              label=\"bottle\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.remote}\n                  onChange={this.handleChange}\n                  name=\"remote\"\n                />\n              }\n              label=\"remote\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={this.state.keyboard}\n                  onChange={this.handleChange}\n                  name=\"keyboard\"\n                />\n              }\n              label=\"keyboard\"\n            />\n          </FormControl>\n          <div>\n            <Button\n              type=\"submit\"\n              ref={this.generateRef}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Generate\n            </Button>\n          </div>\n        </form>\n        <br />\n        <div>Session ID: {this.state.sessionID}</div>\n        <div>Session password: {this.state.password}</div>\n      </div>\n    );\n  }\n}\n\nexport default Create;\n","import React, { Component, createRef } from \"react\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Record from \"./components/record\";\nimport Home from \"./components/home\";\nimport Create from \"./components/create\";\n\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport VideoCallIcon from \"@material-ui/icons/VideoCall\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\n\nimport styles from \"./Home.module.css\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      value: 0,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <Router>\n          <BottomNavigation showLabels className={styles.root}>\n            <BottomNavigationAction\n              href=\"/home\"\n              label=\"Home\"\n              icon={<HomeIcon />}\n            />\n            <BottomNavigationAction\n              href=\"/record\"\n              label=\"Record\"\n              icon={<VideoCallIcon />}\n            />\n            <BottomNavigationAction\n              href=\"/create\"\n              label=\"Create\"\n              icon={<AddCircleIcon />}\n            />\n          </BottomNavigation>\n          <div>\n            {/* <ul>\n              <li>\n                <Link to=\"/home\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/record\">Record</Link>\n              </li>\n              <li>\n                <Link to=\"/create\">Create Session</Link>\n              </li>\n            </ul>\n\n            <hr /> */}\n\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/home\" component={Home} />\n\n            <Route path=\"/record\" component={Record} />\n            <Route path=\"/create\" component={Create} />\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"start\":\"Home_start__iHEO9\",\"button1\":\"Home_button1__3-zlJ\",\"button2\":\"Home_button2__2yQfY\",\"body\":\"Home_body__36BU9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Create_form__1G6GE\",\"combo\":\"Create_combo__2JV_0\"};"],"sourceRoot":""}